<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>A Gift for You</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body, html { 
            height: 100%; width: 100%; overflow: hidden; 
            background: radial-gradient(circle at center, #1b2735 0%, #05070a 100%);
            display: flex; justify-content: center; align-items: center;
            font-family: 'Georgia', serif;
            perspective: 1200px;
        }

        /* 1. Gift Box - 3D Sway Animation */
        .box-container {
            position: relative;
            width: 140px; height: 140px;
            cursor: pointer; z-index: 200;
            animation: slowSway 5s ease-in-out infinite;
            transition: all 0.6s ease;
        }

        @keyframes slowSway {
            0%, 100% { transform: rotateY(-12deg) rotateX(8deg); }
            50% { transform: rotateY(12deg) rotateX(-4deg); }
        }

        .box-body {
            position: absolute; width: 100%; height: 100%;
            background: #e63946; border-radius: 12px;
            box-shadow: inset 0 0 30px rgba(0,0,0,0.4), 0 10px 25px rgba(0,0,0,0.6);
        }

        .ribbon-v { position: absolute; width: 25%; height: 100%; background: #ffb7c5; left: 37.5%; }
        .ribbon-h { position: absolute; width: 100%; height: 25%; background: #ffb7c5; top: 37.5%; }

        .box-lid {
            position: absolute; width: 110%; height: 45px;
            background: #d62839; top: -25px; left: -5%;
            border-radius: 8px; z-index: 210;
            box-shadow: 0 5px 15px rgba(0,0,0,0.4);
            transition: all 0.8s cubic-bezier(0.5, -0.5, 0.1, 1.5);
        }

        .box-container.open { transform: scale(0); opacity: 0; pointer-events: none; }

        /* 2. The Surprise Reveal (üèµÔ∏è Style) */
        #reveal-container {
            position: absolute; display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            transform: scale(0); opacity: 0;
            transition: all 3s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: 100;
        }

        .flower { font-size: 150px; filter: drop-shadow(0 0 25px rgba(255, 165, 0, 0.5)); }
        
        .heart-float {
            position: absolute; font-size: 35px;
            animation: heartFloat 4s ease-in-out infinite;
            filter: drop-shadow(0 0 10px rgba(255, 183, 197, 0.4));
        }

        @keyframes heartFloat {
            0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
            50% { transform: translateY(-35px) rotate(10deg) scale(1.15); }
        }

        #text-content {
            margin-top: 40px; text-align: center; color: #d1d9e6;
            opacity: 0; transition: opacity 2s ease 1.5s;
        }

        /* Background Starfield */
        .star { position: absolute; background: white; border-radius: 50%; opacity: 0; animation: twinkle 3s infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.15; } 50% { opacity: 0.6; } }
    </style>
</head>
<body>

    <div class="box-container" id="giftBox" onclick="openBox()">
        <div class="box-lid"><div class="ribbon-v" style="height:45px; width:25%; left:37.5%;"></div></div>
        <div class="box-body"><div class="ribbon-v"></div><div class="ribbon-h"></div></div>
        <p style="color: #ffb7c5; position: absolute; bottom: -55px; width: 100%; text-align: center; font-size: 14px; letter-spacing: 2px; font-weight: bold; animation: pulse 2s infinite;">TAP TO UNWRAP</p>
    </div>

    <div id="reveal-container">
        <div class="flower">üèµÔ∏è</div>
        <div class="heart-float" style="top: -70px; left: -50px; animation-delay: 0s;">üíñ</div>
        <div class="heart-float" style="top: -90px; left: 40px; animation-delay: 0.6s;">üíó</div>
        <div class="heart-float" style="top: -50px; left: 100px; animation-delay: 1.2s;">üíì</div>
        <div class="heart-float" style="top: 20px; left: -100px; animation-delay: 1.8s;">üíï</div>

        <div id="text-content">
            <p style="font-size: 22px; font-style: italic; margin-bottom: 12px;">"In every silence, I‚Äôm thinking of you."</p>
            <p style="font-size: 13px; color: #e63946; letter-spacing: 5px; font-weight: bold;">HAPPY ROSE DAY</p>
        </div>
    </div>

    <script>
        // Pre-generate stars for better performance
        for (let i = 0; i < 50; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.width = Math.random() * 2 + 'px';
            star.style.height = star.style.width;
            star.style.left = Math.random() * 100 + 'vw';
            star.style.top = Math.random() * 100 + 'vh';
            star.style.animationDelay = Math.random() * 3 + 's';
            document.body.appendChild(star);
        }

        function openBox() {
            if (navigator.vibrate) navigator.vibrate([100, 50, 100]);
            
            document.getElementById('giftBox').classList.add('open');
            const reveal = document.getElementById('reveal-container');
            const text = document.getElementById('text-content');
            const stars = document.querySelectorAll('.star');

            // Fade stars in
            stars.forEach(s => s.style.opacity = '0.5');

            setTimeout(() => {
                reveal.style.opacity = '1';
                reveal.style.transform = 'scale(1)';
                text.style.opacity = '1';
                document.body.style.background = '#05070a'; 
            }, 800);
        }
    </script>
</body>
</html>
