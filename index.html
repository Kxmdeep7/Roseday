<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>3D Rose for You</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body, html { 
            height: 100%; width: 100%; overflow: hidden; 
            background: radial-gradient(circle at center, #1b2735 0%, #05070a 100%);
            display: flex; justify-content: center; align-items: center;
            font-family: 'Georgia', serif;
            perspective: 1500px;
        }

        /* 1. The 3D Rose Container */
        .rose-3d {
            position: absolute;
            width: 100px; height: 100px;
            transform-style: preserve-3d;
            transform: rotateX(-20deg) rotateY(0deg) scale(0);
            opacity: 0;
            transition: all 4s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: 100;
            margin-top: -100px; /* Offset to make room for stem */
        }

        /* The Petals - Layered for depth */
        .petal-3d {
            position: absolute;
            top: 0; left: 0;
            width: 80px; height: 100px;
            background: radial-gradient(circle at center, #ff2d55 10%, #8b0000 100%);
            border-radius: 50% 50% 20% 20%;
            transform-origin: bottom center;
            opacity: 0.95;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.5);
        }

        .layer-1 { height: 70px; width: 50px; bottom: 50px; left: 25px; }
        .layer-2 { height: 90px; width: 70px; bottom: 50px; left: 15px; }
        .layer-3 { height: 110px; width: 90px; bottom: 50px; left: 5px; }

        /* 2. The 3D Stem & Leaves */
        .stem-3d {
            position: absolute;
            width: 4px; height: 180px;
            background: linear-gradient(to bottom, #1b4d3e, #0a2d22);
            bottom: -150px; left: 48px;
            transform-style: preserve-3d;
            transform: rotateX(0deg);
        }

        .leaf {
            position: absolute;
            width: 30px; height: 50px;
            background: radial-gradient(circle at center, #2d5a27, #1b4d3e);
            border-radius: 0 100% 0 100%;
            transform-origin: bottom left;
        }

        /* Spinning Animation */
        @keyframes spin {
            from { transform: rotateX(-20deg) rotateY(0deg); }
            to { transform: rotateX(-20deg) rotateY(360deg); }
        }
        .spinning { animation: spin 12s linear infinite; }

        /* Trigger & Text */
        #rose-trigger { 
            font-size: 70px; cursor: pointer; z-index: 200;
            transition: transform 0.2s ease, opacity 1s ease;
            filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.2));
        }

        #reveal { 
            position: absolute; bottom: 10%; width: 100%; text-align: center;
            opacity: 0; transition: opacity 3s ease 2s;
            z-index: 200;
        }

        .star { position: absolute; background: white; border-radius: 50%; opacity: 0; }
    </style>
</head>
<body>

    <div id="rose-trigger" onclick="start()">ðŸŒ¹</div>

    <div class="rose-3d" id="finalRose">
        <div class="stem-3d">
            <div class="leaf" style="left: 4px; top: 40px; transform: rotateY(45deg) rotateZ(-30deg);"></div>
            <div class="leaf" style="left: -30px; top: 80px; transform: rotateY(-45deg) rotateZ(30deg) scaleX(-1);"></div>
        </div>

        <div class="petal-3d layer-1" style="transform: rotateY(0deg) rotateX(25deg);"></div>
        <div class="petal-3d layer-1" style="transform: rotateY(120deg) rotateX(25deg);"></div>
        <div class="petal-3d layer-1" style="transform: rotateY(240deg) rotateX(25deg);"></div>
        
        <div class="petal-3d layer-2" style="transform: rotateY(60deg) rotateX(45deg);"></div>
        <div class="petal-3d layer-2" style="transform: rotateY(180deg) rotateX(45deg);"></div>
        <div class="petal-3d layer-2" style="transform: rotateY(300deg) rotateX(45deg);"></div>
        
        <div class="petal-3d layer-3" style="transform: rotateY(30deg) rotateX(65deg);"></div>
        <div class="petal-3d layer-3" style="transform: rotateY(120deg) rotateX(65deg);"></div>
        <div class="petal-3d layer-3" style="transform: rotateY(210deg) rotateX(65deg);"></div>
        <div class="petal-3d layer-3" style="transform: rotateY(300deg) rotateX(65deg);"></div>
    </div>

    <div id="reveal">
        <p style="font-size: 22px; color: #d1d9e6; margin-bottom: 12px; font-style: italic;">
            "In every silence, Iâ€™m thinking of you."
        </p>
        <p style="font-size: 13px; color: #e63946; letter-spacing: 4px; font-weight: bold;">HAPPY ROSE DAY ðŸŒ¹</p>
    </div>

    <script>
        function start() {
            if (navigator.vibrate) navigator.vibrate([60, 40, 60]);

            document.getElementById('rose-trigger').style.opacity = '0';

            // Petal Storm
            const colors = ['#8b0000', '#ff2d55', '#ffd1dc'];
            for (let i = 0; i < 60; i++) {
                setTimeout(() => {
                    const p = document.createElement('div');
                    p.innerHTML = 'ðŸŒ¸';
                    p.style.position = 'fixed';
                    p.style.top = '-10%';
                    p.style.left = Math.random() * 100 + 'vw';
                    p.style.color = colors[i % 3];
                    p.style.fontSize = (Math.random() * 20 + 10) + 'px';
                    document.body.appendChild(p);
                    p.animate([
                        { top: '-10%', transform: 'rotate(0deg)' },
                        { top: '50%', left: '50%', transform: 'scale(0) rotate(720deg)' }
                    ], { duration: 4000, easing: 'ease-in-out', fill: 'forwards' });
                    setTimeout(() => p.remove(), 4500);
                }, i * 70);
            }

            // Stars
            for (let i = 0; i < 40; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.width = Math.random() * 2 + 'px';
                star.style.height = star.style.width;
                star.style.left = Math.random() * 100 + 'vw';
                star.style.top = Math.random() * 100 + 'vh';
                document.body.appendChild(star);
                setTimeout(() => star.style.opacity = '0.5', 4000);
            }

            // Reveal Rose
            setTimeout(() => {
                const rose = document.getElementById('finalRose');
                rose.style.opacity = '1';
                rose.style.transform = 'rotateX(-20deg) rotateY(0deg) scale(1)';
                rose.classList.add('spinning');
                document.getElementById('reveal').style.opacity = '1';
                document.body.style.background = '#05070a';
            }, 5000);
        }
    </script>
</body>
</html>
